{% extends 'base.html.twig' %}
{% block body %}

    <div class="w-100 bg-white p-2">
        <form method="post">
            <div style="display: grid; grid-template-columns: repeat(7, auto); grid-template-rows: repeat(10, auto);">
                <!-- row 0 -->
                <div></div>
                <div class="bg-success border-left border-light text-light p-2">
                    Lundi
                </div>
                <div class="bg-success border-left border-light text-light p-2">
                    Mardi
                </div>
                <div class="bg-success border-left border-light text-light p-2">
                    Mercredi
                </div>
                <div class="bg-success border-left border-light text-light p-2">
                    Jeudi
                </div>
                <div class="bg-success border-left border-light text-light p-2">
                    Vendredi
                </div>
                <div class="bg-success border-left border-light text-light p-2">
                    Samedi
                </div>

                <!-- row 1 -->
                <div class="bg-success text-light border-bottom border-light p-2">
                    09h - 10h
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[0][0]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[0][0]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[0][1]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[0][1]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[0][2]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[0][2]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[0][3]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[0][3]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[0][4]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[0][4]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[0][5]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[0][5]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>

                <!-- row 2 -->
                <div class="bg-success text-light border-bottom border-light p-2">
                    10h - 11h
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[1][0]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[1][0]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[1][1]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[1][1]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[1][2]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[1][2]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[1][3]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[1][3]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[1][4]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[1][4]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[1][5]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[1][5]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>

                <!-- row 3 -->
                <div class="bg-success text-light border-bottom border-light p-2">
                    11h - 12h
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[2][0]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[2][0]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[2][1]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[2][1]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[2][2]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[2][2]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[2][3]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[2][3]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[2][4]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[2][4]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[2][5]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[2][5]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>

                <!-- row 4 -->
                <div class="bg-success text-light border-bottom border-light p-2">
                    12h - 13h
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[3][0]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[3][0]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[3][1]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[3][1]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[3][2]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[3][2]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[3][3]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[3][3]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[3][4]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[3][4]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[3][5]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[3][5]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>

                <!-- row 5 -->
                <div class="bg-success text-light border-bottom border-light p-2">
                    13h - 14h
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[4][0]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[4][0]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[4][1]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[4][1]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[4][2]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[4][2]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[4][3]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[4][3]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[4][4]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[4][4]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[4][5]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[4][5]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>

                <!-- row 6 -->
                <div class="bg-success text-light border-bottom border-light p-2">
                    14h - 15h
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[5][0]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[5][0]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[5][1]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[5][1]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[5][2]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[5][2]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[5][3]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[5][3]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[5][4]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[5][4]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[5][5]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[5][5]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>

                <!-- row 7 -->
                <div class="bg-success text-light border-bottom border-light p-2">
                    15h - 16h
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[6][0]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[6][0]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[6][1]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[6][1]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[6][2]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[6][2]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[6][3]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[6][3]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[6][4]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[6][4]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[6][5]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[6][5]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>

                <!-- row 8 -->
                <div class="bg-success text-light border-bottom border-light p-2">
                    16h - 17h
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[7][0]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[7][0]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[7][1]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[7][1]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[7][2]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[7][2]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[7][3]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[7][3]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[7][4]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[7][4]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[7][5]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[7][5]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>

                <!-- row 9 -->
                <div class="bg-success text-light border-bottom border-success p-2">
                    17h - 18h
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[8][0]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[8][0]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[8][1]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[8][1]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[8][2]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[8][2]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[8][3]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[8][3]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[8][4]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[8][4]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
                <div class="border-left border-bottom border-success text-success p-2">
                    <input type="radio" name="disp[8][5]" value="true"/><span class="font-sm">disp.</span>
                    <input type="radio" name="disp[8][5]" value="false" /><span class="font-sm text-danger">non disp.</span>
                </div>
            </div>

            <div class="d-flex justify-content-end">
                <input type="submit" class="btn btn-success mt-4" value="Enregistrer"/>
            </div>
        </form>
    </div>

    <div id="calendar_data">
        {% for calendar in calendars %}
            <div data-day="{{ calendar.calendar.day }}"
                 data-hour="{{ calendar.calendar.hour }}"
                 data-is_here="{{ calendar.calendar.isHere }}"></div>
        {% endfor %}
    </div>

    <script>
        $('#calendar_data').children().each((index, elem) => {
            let day = $(elem).data('day');
            let hour = $(elem).data('hour');
            let radios = $('input[name="disp[' + hour + '][' + day + ']"]');
            if($(elem).data('is_here') === 1) {
                radios[0].checked = true;
            }
            else {
                radios[1].checked = true;
            }
        })
    </script>

{% endblock %}
